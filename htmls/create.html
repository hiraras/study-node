<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title style="white-space: pre">create</title>
    <style>
        #blog-title {
            width: 200px;
            height: 24px;
        }
    </style>
</head>

<body>
    <h1 id="title">创建博客</h1>
    <div class="content">
        <input type="text" id="blog-title" placeholder="请输入标题" />
        <br />
        <textarea id="blog-content" cols="40" rows="10" placeholder="请输入内容"></textarea>
        <br />
        <button id="submit">创建</button>
    </div>
</body>
<script src="./js/jquery-1.8.3.js"></script>
<script type="text/javascript">
    $('#submit').on('click', function() {
        const params = {
            title: $('#blog-title').val(),
            content: $('#blog-content').val(),
        }
        $.ajax({
            async: true,
            url: '/api/blog/new',
            data: JSON.stringify(params),
            cache: false,
            contentType: 'application/json',
            dataType: 'json', // 返回数据的数据类型
            type: 'POST',
            success: function (result) {
                if (result.errno === 0) {
                    alert('提交成功');
                    window.history.back(0);
                }
            },
            error: function (err) {
                console.log(err);
            }
        });
    })
</script>

</html>